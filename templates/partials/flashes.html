{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  <div id="flashContainer" style="margin:10px 0;">
    {% for category, message in messages %}
      <div class="alert {% if category == 'success' %}alert-success{% elif category in ['danger','error'] %}alert-danger{% elif category == 'warning' %}alert-warning{% else %}alert-info{% endif %}"
           role="alert" style="position:relative;">
        <span>{{ message }}</span>
        <button type="button" aria-label="Close" onclick="this.parentElement.remove()"
                style="position:absolute; right:8px; top:6px; border:none; background:transparent; font-size:18px; cursor:pointer; color:inherit">&times;</button>
      </div>
    {% endfor %}
  </div>
  <script>
    // Auto-dismiss flashes after a short delay
    setTimeout(function(){
      var el = document.getElementById('flashContainer');
      if (el) el.remove();
    }, 5000);
  </script>
  {% endif %}
{% endwith %}

